(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f76f896"],{"3e6c":function(e,r,t){},"89d2":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login-container"},[t("div",{staticClass:"login"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[t("el-form-item",{attrs:{prop:"user"}},[t("el-input",{staticClass:"phone-input",attrs:{placeholder:e.placeholders[0],"prefix-icon":"el-icon-user",clearable:""},model:{value:e.ruleForm.user,callback:function(r){e.$set(e.ruleForm,"user",r)},expression:"ruleForm.user"}})],1),t("el-form-item",{attrs:{prop:"pass"}},[t("el-input",{attrs:{type:"password",placeholder:e.placeholders[1],"show-password":"",clearable:"","prefix-icon":"el-icon-lock"},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitLogin(e.ruleForm)}}},[e._v("登录")]),t("section",{staticClass:"login-else"},[t("span",{staticClass:"login-forget",on:{click:function(r){return e.forgetPass()}}},[e._v("忘记密码")])])],1)],1)],1)])},a=[],n=(t("96cf"),t("1da1")),o=t("4667"),i={data:function(){var e=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r,t,s){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:""===t?s(new Error("邮箱不能为空")):(a=/^[a-zA-Z0-9]{5,17}$/,a.test(t)?s():s(new Error("请输入正确的用户名")));case 1:case"end":return e.stop()}}),e)})));return function(r,t,s){return e.apply(this,arguments)}}(),r=function(e,r,t){if(""===r)t(new Error("请输入密码"));else{var s=/^[a-zA-Z0-9]{6,16}$/;s.test(r)?t():t(new Error("请输入正确的密码格式"))}};return{placeholders:["请输入用户名","请输入密码"],ruleForm:{user:"",pass:""},rules:{user:[{required:!0,validator:e,trigger:"blur"}],pass:[{required:!0,validator:r,trigger:"blur"},{min:6,message:"长度在不少于6个字符",trigger:"blur"}]}}},methods:{submitLogin:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!/^[a-zA-Z0-9]{4,15}$/.test(r.user)){e.next=11;break}if(!/^[a-zA-Z0-9]{5,17}$/.test(r.pass)){e.next=8;break}return e.next=4,o["a"].get("/admin/login",{params:{user:r.user,password:r.pass}});case 4:t=e.sent,"fail"==t.data.status?this.$message.error(t.data.msg):(localStorage.setItem("token",t.data.token),this.$store.state.adminInfo={name:t.data.username,email:t.data.email,head:t.data.head},this.$message({message:"登录成功！",type:"success"}),setTimeout((function(){s.$router.push("/admin"),s.$store.state.isLogin=!0}),1500)),e.next=9;break;case 8:this.$message.error("请确保密码合法！");case 9:e.next=12;break;case 11:this.$message.error("请确保邮箱合法！");case 12:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}(),forgetPass:function(){this.$router.push("/login/reset"),window.scrollTo(0,0)}}},u=i,l=(t("cc04"),t("2877")),c=Object(l["a"])(u,s,a,!1,null,null,null);r["default"]=c.exports},cc04:function(e,r,t){"use strict";t("3e6c")}}]);
//# sourceMappingURL=chunk-6f76f896.1c71f53a.js.map