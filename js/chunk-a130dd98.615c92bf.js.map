{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./src/components/login/reset.vue?4375","webpack:///./src/components/login/reset.vue?3308","webpack:///src/components/login/reset.vue","webpack:///./src/components/login/reset.vue?0e84","webpack:///./src/components/login/reset.vue","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./src/utils/index.ts","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js"],"names":["anObject","module","exports","that","this","result","global","ignoreCase","multiline","unicode","sticky","toLength","repeat","defined","maxLength","fillString","left","S","String","stringLength","length","fillStr","undefined","intMaxLength","fillLen","stringFiller","call","Math","ceil","slice","flags","f","RegExp","prototype","configurable","get","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","ruleForm","rules","directives","name","rawName","value","isVPass","expression","placeholders","model","callback","$$v","$set","staticStyle","show","on","$event","getCode","_v","_s","sendcode_text","count","submitForm","returnLogin","resetPass","toLogin","staticRenderFns","data","reg","test","activeIndex","email_return","timer","isCodeShow","user1","email","code","pass","checkPass","required","validator","trigger","min","max","message","methods","$router","push","setInterval","http","params","obj","console","username","status","$message","error","msg","password","time","type","setTimeout","mounted","component","$flags","DESCRIPTORS","TO_STRING","$toString","define","fn","source","R","concat","toInteger","str","res","n","Infinity","RangeError","formatTime","timeObj","Date","y","getFullYear","m","getMonth","d","getDate","hh","getHours","toString","padStart","mm","getMinutes","ss","getSeconds","$export","$pad","userAgent","WEBKIT_BUG","P","F","arguments"],"mappings":"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","file":"js/chunk-a130dd98.615c92bf.js","sourcesContent":["'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reset.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resetpwd-container\"},[_c('div',{staticClass:\"resetpwd\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isVPass),expression:\"!isVPass\"}],staticClass:\"r-verification\"},[_c('el-form-item',{attrs:{\"prop\":\"user1\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholders[0],\"required\":\"required\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-user-solid\"},model:{value:(_vm.ruleForm.user1),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"user1\", $$v)},expression:\"ruleForm.user1\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"email\"}},[_c('el-input',{staticClass:\"phone-input\",attrs:{\"placeholder\":_vm.placeholders[1],\"prefix-icon\":\"el-icon-reading\",\"clearable\":\"\"},model:{value:(_vm.ruleForm.email),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"email\", $$v)},expression:\"ruleForm.email\"}})],1),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCodeShow),expression:\"isCodeShow\"}],staticClass:\"phone\",attrs:{\"prop\":\"code\"}},[_c('el-input',{staticClass:\"r-code\",staticStyle:{\"width\":\"79%\"},attrs:{\"placeholder\":_vm.placeholders[2],\"minlength\":6,\"maxlength\":6,\"clearable\":\"\"},model:{value:(_vm.ruleForm.code),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"code\", $$v)},expression:\"ruleForm.code\"}}),_c('el-button',{staticClass:\"code-btn\",staticStyle:{\"width\":\"20%\"},attrs:{\"type\":\"primary\",\"disabled\":!_vm.show},on:{\"click\":function($event){return _vm.getCode()}}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}]},[_vm._v(_vm._s(_vm.sendcode_text))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.show),expression:\"!show\"}],staticClass:\"count\"},[_vm._v(_vm._s(_vm.count)+\" s\")])])],1)],1),_c('el-form-item',{staticClass:\"btn-form\"},[_c('el-button',{staticClass:\"r-submit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm(_vm.ruleForm)}}},[_vm._v(\"确认\")]),_c('span',{on:{\"click\":function($event){return _vm.returnLogin()}}},[_vm._v(\"返回登录\")])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isVPass),expression:\"isVPass\"}],staticClass:\"r-setpass\"},[_c('el-form-item',{attrs:{\"prop\":\"pass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.placeholders[3],\"show-password\":\"\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-lock\"},model:{value:(_vm.ruleForm.pass),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"pass\", $$v)},expression:\"ruleForm.pass\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.placeholders[4],\"show-password\":\"\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-lock\"},model:{value:(_vm.ruleForm.checkPass),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checkPass\", $$v)},expression:\"ruleForm.checkPass\"}})],1),_c('el-form-item',{staticClass:\"btn-form\"},[_c('el-button',{staticClass:\"r-submit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.resetPass(_vm.ruleForm)}}},[_vm._v(\"确认修改\")]),_c('span',{on:{\"click\":function($event){return _vm.toLogin()}}},[_vm._v(\"返回登录\")])],1)],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"resetpwd-container\">\r\n    <div class=\"resetpwd\">\r\n      <el-form\r\n        :model=\"ruleForm\"\r\n        :rules=\"rules\"\r\n        ref=\"ruleForm\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <div class=\"r-verification\" v-show=\"!isVPass\">\r\n          <el-form-item prop=\"user1\">\r\n            <el-input\r\n              type=\"text\"\r\n              :placeholder=\"placeholders[0]\"\r\n              required=\"required\"\r\n              v-model=\"ruleForm.user1\"\r\n              clearable\r\n              prefix-icon=\"el-icon-user-solid\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"email\">\r\n            <el-input\r\n              class=\"phone-input\"\r\n              :placeholder=\"placeholders[1]\"\r\n              v-model=\"ruleForm.email\"\r\n              prefix-icon=\"el-icon-reading\"\r\n              clearable\r\n            ></el-input>\r\n          </el-form-item>\r\n          <transition name=\"fade\">\r\n            <el-form-item prop=\"code\" class=\"phone\" v-show=\"isCodeShow\">\r\n              <el-input\r\n                v-model=\"ruleForm.code\"\r\n                :placeholder=\"placeholders[2]\"\r\n                :minlength=\"6\"\r\n                :maxlength=\"6\"\r\n                class=\"r-code\"\r\n                clearable\r\n                style=\"width: 79%\"\r\n              ></el-input>\r\n              <el-button\r\n                type=\"primary\"\r\n                @click=\"getCode()\"\r\n                class=\"code-btn\"\r\n                :disabled=\"!show\"\r\n                style=\"width: 20%\"\r\n              >\r\n                <span v-show=\"show\">{{ sendcode_text }}</span>\r\n                <span v-show=\"!show\" class=\"count\">{{ count }} s</span>\r\n              </el-button>\r\n            </el-form-item>\r\n          </transition>\r\n          <el-form-item class=\"btn-form\">\r\n            <el-button\r\n              type=\"primary\"\r\n              @click=\"submitForm(ruleForm)\"\r\n              class=\"r-submit\"\r\n              >确认</el-button\r\n            >\r\n            <span @click=\"returnLogin()\">返回登录</span>\r\n          </el-form-item>\r\n        </div>\r\n        <div class=\"r-setpass\" v-show=\"isVPass\">\r\n          <el-form-item prop=\"pass\">\r\n            <el-input\r\n              type=\"password\"\r\n              :placeholder=\"placeholders[3]\"\r\n              v-model=\"ruleForm.pass\"\r\n              show-password\r\n              clearable\r\n              prefix-icon=\"el-icon-lock\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"checkPass\">\r\n            <el-input\r\n              type=\"password\"\r\n              :placeholder=\"placeholders[4]\"\r\n              v-model=\"ruleForm.checkPass\"\r\n              show-password\r\n              clearable\r\n              prefix-icon=\"el-icon-lock\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item class=\"btn-form\">\r\n            <el-button\r\n              type=\"primary\"\r\n              @click=\"resetPass(ruleForm)\"\r\n              class=\"r-submit\"\r\n              >确认修改</el-button\r\n            >\r\n            <span @click=\"toLogin()\">返回登录</span>\r\n          </el-form-item>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport http from \"@/http/request\";\r\nimport { formatTime } from \"@/utils\";\r\nexport default {\r\n  data() {\r\n    const validateUser1 = async (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入用户名\"));\r\n      } else {\r\n        const reg = /^[a-zA-Z0-9]{4,16}$/;\r\n        if (reg.test(value)) {\r\n          callback();\r\n        } else {\r\n          callback(\r\n            new Error(\"请输入正确的用户名格式（4-16位大小写字母或数字）\")\r\n          );\r\n        }\r\n      }\r\n    };\r\n    const validateEmail = async (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"邮箱不能为空\"));\r\n      } else {\r\n        const reg = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$/;\r\n        if (reg.test(value)) {\r\n          this.isCodeShow = true;\r\n          callback();\r\n        } else {\r\n          this.isCodeShow = false;\r\n          callback(new Error(\"请输入正确的邮箱\"));\r\n        }\r\n      }\r\n    };\r\n    const validatePass = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else {\r\n        const reg = /^[a-zA-Z0-9]{5,17}$/;\r\n        if (reg.test(value)) {\r\n          callback();\r\n        } else {\r\n          callback(new Error(\"请输入正确的密码格式（6-16位大小写字母或数字）\"));\r\n        }\r\n      }\r\n    };\r\n    const validateCode = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入验证码\"));\r\n      } else {\r\n        if (this.ruleForm.code.length === 6) {\r\n          callback();\r\n        } else {\r\n          callback(new Error(\"验证码不正确\"));\r\n        }\r\n      }\r\n    };\r\n    const validatePass2 = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请再次输入密码\"));\r\n      } else if (value !== this.ruleForm.pass) {\r\n        callback(new Error(\"两次输入密码不一致\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      placeholders: [\r\n        \"请输入用户名\",\r\n        \"请输入邮箱\",\r\n        \"请输入验证码\",\r\n        \"请输入密码\",\r\n        \"请再次输入密码\",\r\n      ],\r\n      activeIndex: \"2\",\r\n      isVPass: false,\r\n      show: true,\r\n      count: \"\",\r\n      email_return: \"\",\r\n      sendcode_text: \"发送验证码\",\r\n      timer: null,\r\n      isCodeShow: false,\r\n      ruleForm: {\r\n        user1: \"\",\r\n        email: \"\",\r\n        code: \"\",\r\n        pass: \"\",\r\n        checkPass: \"\",\r\n      },\r\n      rules: {\r\n        code: [\r\n          {\r\n            required: true,\r\n            validator: validateCode,\r\n            trigger: \"change\",\r\n          },\r\n          {\r\n            min: 6,\r\n            max: 6,\r\n            message: \"长度为6\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        user1: [\r\n          {\r\n            required: true,\r\n            validator: validateUser1,\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            validator: validateEmail,\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        pass: [\r\n          {\r\n            required: true,\r\n            validator: validatePass,\r\n            trigger: \"change\",\r\n          },\r\n          {\r\n            min: 6,\r\n            message: \"长度在不少于6个字符\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        // 校验密码\r\n        checkPass: [\r\n          {\r\n            required: true,\r\n            validator: validatePass2,\r\n            trigger: \"change\",\r\n          },\r\n          {\r\n            min: 6,\r\n            message: \"长度在不少于6个字符\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    returnLogin() {\r\n      this.$router.push(\"/login\");\r\n    },\r\n    async getCode() {\r\n      this.show = false;\r\n      this.count = 60;\r\n      let timer = setInterval(() => {\r\n        if (this.count > 0) {\r\n          this.count--;\r\n        } else {\r\n          this.sendcode_text = \"重新发送\";\r\n          this.show = true;\r\n        }\r\n      }, 1000);\r\n      let result = await http.get(\"/admin/reset/email\", {\r\n        params: { email: this.ruleForm.email },\r\n      });\r\n      if (result.data.status == \"success\") {\r\n        this.email_return = result;\r\n      }\r\n    },\r\n    async submitForm(obj) {\r\n      if (/^[a-zA-Z0-9]{4,16}$/.test(obj.user1)) {\r\n        if (/^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$/.test(obj.email)) {\r\n          if (this.email_return) {\r\n            if (obj.code) {\r\n              if (this.email_return.data.code == obj.code) {\r\n                console.log(this.ruleForm);\r\n                let data = await http.get(\"/admin/reset/check\", {\r\n                  params: {\r\n                    email: this.ruleForm.email,\r\n                    username: this.ruleForm.user1,\r\n                  },\r\n                });\r\n                if (data.data.status == \"success\") {\r\n                  this.isVPass = true;\r\n                } else {\r\n                  this.$message.error(data.data.msg);\r\n                }\r\n              }else{\r\n                this.$message.error(\"未输入验证码！\");\r\n              }\r\n            } else {\r\n              this.$message.error(\"验证码错误！\");\r\n            }\r\n          } else {\r\n            this.$message.error(\"请先获取验证码！\");\r\n          }\r\n        } else {\r\n          this.$message.error(\"请输入有效的邮箱！\");\r\n        }\r\n      } else {\r\n        this.$message.error(\"请输入有效的用户名！\");\r\n      }\r\n    },\r\n    async resetPass(obj) {\r\n      if (/^[a-zA-Z0-9]{5,17}$/.test(obj.pass)) {\r\n        if (obj.pass == obj.checkPass) {\r\n          let result = await http.get(\"/admin/reset/pwd\", {\r\n            params: {\r\n              username: obj.user,\r\n              email: obj.email,\r\n              password: obj.pass,\r\n              time: formatTime(new Date()),\r\n            },\r\n          });\r\n          if (result.data.status == \"success\") {\r\n            this.$message({\r\n              message: \"密码修改成功！即将返回登录页面\",\r\n              type: \"success\",\r\n            });\r\n            setTimeout(() => {\r\n              this.$router.push(\"/login\");\r\n            }, 1500);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    toLogin() {\r\n      this.$router.push(\"/login\");\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.resetpwd-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  .resetpwd {\r\n    width: 50%;\r\n    height: 70%;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    border-radius: 15px;\r\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.3);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    .el-form {\r\n      width: 70%;\r\n      height: 70%;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-evenly;\r\n      .r-verification,\r\n      .r-setpass {\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-evenly;\r\n      }\r\n      .el-form-item {\r\n        width: 100%;\r\n      }\r\n      .el-button {\r\n        width: 100%;\r\n      }\r\n      .el-button + span {\r\n        color: #fff;\r\n        cursor: default;\r\n        &:hover {\r\n          text-decoration: underline;\r\n        }\r\n      }\r\n      .resetpwd-else {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        color: #fff;\r\n        span {\r\n          cursor: default;\r\n          &:hover {\r\n            text-decoration: underline;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reset.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reset.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reset.vue?vue&type=template&id=2235283b&\"\nimport script from \"./reset.vue?vue&type=script&lang=js&\"\nexport * from \"./reset.vue?vue&type=script&lang=js&\"\nimport style0 from \"./reset.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","export const formatTime = (timeObj: object): string => {\r\n  if (timeObj instanceof Date) {\r\n    let y: number = timeObj.getFullYear();\r\n    let m: number = timeObj.getMonth() + 1;\r\n    let d: number = timeObj.getDate();\r\n    let hh: string = timeObj\r\n      .getHours()\r\n      .toString()\r\n      .padStart(2, \"0\");\r\n    let mm: string = timeObj\r\n      .getMinutes()\r\n      .toString()\r\n      .padStart(2, \"0\");\r\n    let ss: string = timeObj\r\n      .getSeconds()\r\n      .toString()\r\n      .padStart(2, \"0\");\r\n    return `${y}-${m}-${d} ${hh}:${mm}:${ss}`;\r\n  } else {\r\n    return \"参数不是日期对象\";\r\n  }\r\n};\r\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n"],"sourceRoot":""}